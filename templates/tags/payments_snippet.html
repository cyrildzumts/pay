{% load i18n %}

{% if transaction_list %}
    <div class="col-xs-12 col-4">
        <div class="mat-list-wrapper">
            <div class="mat-list-header">
                <span class="title">{% trans list_title %}</span>
            </div>
        </div>
        <ul class="mat-list">
            {% for transaction in transaction_list %}
            <li class="mat-list-item">
                <a class="mat-button mat-button-text" href="{{transaction.get_absolute_url}}">
                    <div class="entry">
                        {% if transaction.sender.pk == request.user.pk %}
                        <span class="part">{{transaction.recipient.first_name}}</span> <i class="separator"></i> <span class="part">{{transaction.created_at|date:"M j, Y"}}</span> <i class="separator"></i> <div class="money"><span class="amount outgoing">{{transaction.amount}}</span> <span class="currency">{% trans "XAF" %}</span></div>
                        {% else %}
                        <span class="part">{{transaction.sender.first_name}}</span> <i class="separator"></i> <span class="part">{{transaction.created_at|date:"M j, Y"}}</span> <i class="separator"></i> <div class="money"><span class="amount incoming">{{transaction.amount}}</span> <span class="currency">{% trans "XAF" %}</span></div>
                        {% endif %}
                    </div>
                </a>
            </li>
            {% endfor %}
        </ul>
    </div>

   <div class="col-xs-12 col-4">
    <div class="mat-table-wrapper">
        <table id="payment-list" class="mat-table js-filter-table">
          <caption>{% trans "Payment List" %}</caption>
          <thead>
                  <tr>
                          <!--<th><input id="filter-select-all" type="checkbox" name="allselected"></th>-->
                          <th>{% trans "Sender" %}</th>
                          <th>{% trans "Recipient" %}</th>
                          <th>{% trans "Amount" %}</th>
                          <th>{% trans "Date of usage" %}</th>
                          <th>{% trans "Details" %}</th>
                  </tr>
          </thead>
          <tbody>
                  {% for payment in transaction_list  %}
                  <tr>
                    <!--<td class="checkbox"><input type="checkbox" name="selected-service"></td>-->
                    <td data-label="{% trans 'Sender' %}">{{payment.sender.username}}</td>
                    <td data-label="{% trans 'Recipient' %}">{{payment.recipient.username}}</td>
                    <td data-label="{% trans 'Amount' %}">{{payment.amount}} {% trans "XAF" %}</td>
                    <td data-label="{% trans 'Date' %}">{{payment.created_at|date:"F j, Y"}}</td>
                    <td data-label="{% trans 'Details' %}"><a class="mat-button mat-button-default" href="{{payment.get_absolute_url}}">{% trans "More" %}</a></td>
                  </tr>
                  {% endfor %}
                  
          </tbody>
    </table>
    {% include "tags/pagination.html" with page_set=transaction_list %}
    </div><!--End of Table Wrapper-->
    </div>
    {% else %}
    <p> {% trans "You haven't made any Payments" %}.</p>

    {% endif %}